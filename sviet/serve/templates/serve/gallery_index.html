{% include "aboutus_navbar.html" %} {% block content %}{% load static %}
<link rel="stylesheet" href="{% static 'css/gallery.css' %}" />
<section class="gallery-index-wrap">
  <div class="page-head">
    <h1>Gallery</h1>
    <p class="subtitle">Browse by category</p>
  </div>

  <div class="category-grid">
    {% for cat in categories %} {% with cover=cat.images.first %}
    <a
      class="category-card"
      href="{% url 'gallery_category' category_slug=cat.slug %}"
      aria-label="Open {{ cat.name }} category"
    >
      <div class="thumb">
        {% if cover %}
        <img
          src="{{ cover.image.url }}"
          alt="{{ cover.alt_text|default:cat.name }}"
        />
        {% else %}
        <div
          class="thumb-placeholder"
          role="img"
          aria-label="No images yet in {{ cat.name }}"
        >
          <span class="placeholder-icon">üñºÔ∏è</span>
        </div>
        {% endif %}
      </div>

      <div class="card-meta">
        <h3 class="cat-title">{{ cat.name }}</h3>
        <p class="cat-count">
          {{ cat.images.count }} image{{ cat.images.count|pluralize }}
        </p>
      </div>
    </a>
    {% endwith %} {% empty %}
    <p class="no-cats">No categories yet.</p>
    {% endfor %}

    <!-- Uncategorized -->
    <a
      class="category-card"
      href="{% url 'gallery_uncategorized' %}"
      aria-label="Open Uncategorized"
    >
      <div class="thumb">
        <div
          class="thumb-placeholder"
          role="img"
          aria-label="Uncategorized images"
        >
          <span class="placeholder-icon">üìÇ</span>
        </div>
      </div>
      <div class="card-meta">
        <h3 class="cat-title">Uncategorized</h3>
        <p class="cat-count">
          {{ uncategorized_count }} image{{ uncategorized_count|pluralize }}
        </p>
      </div>
    </a>
  </div>
</section>
{% endblock %}
